<% include includes/head.ejs %>

  <body id="particles">
    <div id="intro">
    <div class="login-page">
      <div class="conteneur" style="width:360px;">
        <img style="width:360px" src="img/Bigben.png" alt="BigBen"/>
      </div>
      
      <div class="form">
        <form class="register-form" action = "/signin" method="post">
          <% if (typeof arg['error_signin'] != 'undefined') { %>
          <div class="mdl-textfield mdl-js-textfield">
            <p class="login-error"><%= arg['error_signin'] %></p>
          </div>
          <% } %>
          <% if (typeof arg['error_tech'] != 'undefined') { %>
          <div class="mdl-textfield mdl-js-textfield">
            <p class="login-error"><%= arg['error_tech'] %></p>
          </div>
          <% } %>
          <% if (typeof arg['error'] != 'undefined') { %>
          <div class="mdl-textfield mdl-js-textfield">
            <p class="login-error"><%= arg['error'] %></p>
          </div>
          <% } %>
          <div class="mdl-textfield mdl-js-textfield">
            <input class="mdl-textfield__input" type="text" id="username_si" name="username_si">
            <label class="mdl-textfield__label" for="username">Username</label>
          </div>
          <div class="mdl-textfield mdl-js-textfield">
            <input class="mdl-textfield__input" type="password" id="password_si" name="password_si">
            <label class="mdl-textfield__label" for="password">Password</label>
          </div>
          <button type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">
            Create
          </button>
          <p class="message">Already registered ? <a href="#">Log you in</a></p>
        </form>
        
        <form class="login-form" action = "/login" method="post">
		  <% if (typeof arg['error_auth'] != 'undefined') { %>
          <div class="mdl-textfield mdl-js-textfield">
            <p class="login-error"><%= arg['error_auth'] %></p>
          </div>
          <% } %>
          <% if (typeof arg['error_tech'] != 'undefined') { %>
          <div class="mdl-textfield mdl-js-textfield">
            <p class="login-error"><%= arg['error_tech'] %></p>
          </div>
          <% } %>
          <% if (typeof arg['error'] != 'undefined') { %>
          <div class="mdl-textfield mdl-js-textfield">
            <p class="login-error"><%= arg['error'] %></p>
          </div>
          <% } %>
          <% if (typeof arg['signin'] != 'undefined') { %>
          <div class="mdl-textfield mdl-js-textfield">
            <p class="login-success"><%= arg['signin'] %></p>
          </div>
          <% } %>
          <div class="mdl-textfield mdl-js-textfield">
            <input class="mdl-textfield__input" type="text" id="username" name="username">
            <label class="mdl-textfield__label" for="username">Username</label>
          </div>
          <div class="mdl-textfield mdl-js-textfield">
            <input class="mdl-textfield__input" type="password" id="password" name="password">
            <label class="mdl-textfield__label" for="password">Password</label>
          </div>
          <button type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">
            Login
          </button>
          <p class="message">Not registered yet ? <a href="#">Create an account</a></p>
        </form>
      </div>
    </div>
    </div>
  </body>
      
  <% include includes/script.ejs %>
	
  <script>
  $('.message a').click(function(){
    $('form').animate({height: "toggle", opacity: "toggle"}, "slow");
  });
		
	<% if (typeof arg['error_signin'] != 'undefined') { %>
		$('.login-form').ready(function(){
			$('form').animate({height: "toggle", opacity: "toggle"}, "slow");
		});
  <% } %>
  </script>
  
</html>